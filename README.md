# ⚡Spider_DCD⚡

汽车大模型项目代码，陈果自留。目前只做了懂车帝的爬虫，所以先这么叫。

## ✅TO DO LIST：
- [  ] 汽车之家的口碑评论数据
- [  ] 懂车帝程序的bug
  - 多值数据抓取
  - 部分数据无法定位
  - 滚动逻辑测试
- [  ] 储存数据，建立知识库
- [  ] 数据喂给大模型，做RAG检索增强生成  

### 😈7.12日志

这一次上传中，有两个程序，一个dcd.py,这个程序可以把参数页面中的数据爬成csv，也能对多值属性进行处理，基本上完成了任务。

不过，这个程序中还是有bug，比如检索的条件可能会导致页面中的某些属性没法被抓到，跟他的标签有关，目前看好像是索引，但是我懒得搞了，毕竟是少数。

如果可以接受几千条数据中有少数几条不太对劲，似乎这个结果也还算OK。跑出来第一辆车的数据，“基本”没啥问题。

好吧，因为本人目前在实习，又懒又没时间，跑出来的数据只跑了一辆车，希望有人看到我的日志，能帮我测试一下这个程序，看看哪里有问题，如果能解决最好了。

第二个程序dcd0.py,这个程序因为我暂时没空，我还没有跑，添加了遍历完当前页面的所有卡片之后向下滚动，直到渲染出新卡片的逻辑。待测试。

### 😠7.15日志

这一次上传中新增了汽车之家口碑数据的爬虫，不过大失败。

qczj.py是异步编程的版本，qczj1.py是同步编程的版本，目前我正在调试1这个版本。记录几个问题。

1. 进入卡片页面后，这里可能会弹出一个弹窗，如果是人手操作，点击旁边的空白区域即可关闭，但是playwright就是关不掉。
2. 点击这个口碑按钮的操作，死活完成不了，我写的xpath应该是正确的，现在改用CSS选择器，也点不到。
3. 由于口碑按钮一直进不去，后面编写的程序一直无法测试。不过，写的几个xpath表达式应该都是对的，这个网站的评价页dom还是挺友好的。

昨晚酩酊大醉，精神状态不佳，所以今天早上有点不想接着做了。日后继续debug...

下午：更换了一部分爬虫逻辑，现在弹窗检测和口碑按钮都能点到了。但是进去之后，“查看完整口碑”这个按钮找不到，也就没反应了。

初步的计划是，先搁置这一块点击的逻辑。现在留下的几个程序，autohome.py是我计划的最终程序，现在卡在如何遍历每一辆车的每一条评价。也就是刚才说的“查看完整口碑”。autohome-in.py这个程序以完整口碑点击后的页面作为起始页，经过测试，已经能非常完善的爬到需要的数据了。下一步操作，要把遍历的逻辑搞好，然后把-in这个程序拉进去，数据就算是到手了。